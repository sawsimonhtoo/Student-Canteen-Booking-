<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Beverages - MIT Canteen</title>
  <link rel="stylesheet" href="styles.css" />
  <ul id="cart-items"></ul>
</head>
<body>
  <div>
    <h2 class="canteen">MIT Student Canteen</h2>
  </div>

  <div class="menu-buttons">
    <button class="shadow-button" onclick="window.location.href='main-course.html'">Main-Course</button>
    <button class="shadow-button" onclick="window.location.href='beverages.html'" >Beverages</button>
    <button class="shadow-button" onclick="window.location.href='snacks.html'"> Snack</button>
    <button class="shadow-button" onclick="window.location.href='desserts.html'">Dessert</button>
    
  </div>

  <div class="menu-container">
    <div class="menu-items">
      <div class="item" data-name="Strawberry" data-price="3000">
        <img src="Strawberry Juice.jpeg">
        <h4>Strawberry</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Orange Juice" data-price="3000">
        <img src="Orange Juice.jpeg">
        <h4>Orange Juice</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Mango Juice" data-price="3000">
        <img src="Mango Juice.jpeg">
        <h4>Mango Juice</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Lemon Juice" data-price="3000">
        <img src="Lemon Juice.jpeg">
        <h4>Lemon Juice</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Iced Coffee" data-price="2500">
        <img src="Iced Coffee.jpeg">
        <h4>Iced Coffee</h4>
        <p>Price - 2500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Watermelon Juice" data-price="3000">
        <img src="Watermelon Juice.jpeg">
        <h4>Watermelon Juice</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Avocado Juice" data-price="4500">
        <img src="Avocado Juice.jpeg">
        <h4>Avocado Juice</h4>
        <p>Price - 4500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Berry Bliss Smoothie" data-price="5000">
        <img src="Berry Bliss Smoothie.jpeg">
        <h4>Berry Bliss Smoothie</h4>
        <p>Price - 5000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Papaya Juice" data-price="3500">
        <img src="Papaya Juice.jpeg">
        <h4>Papaya Juice</h4>
        <p>Price - 3500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Passion Fruit Juice" data-price="3000">
        <img src="Passion Fruit Juice.jpeg">
        <h4>Passion Fruit Juice</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Pineapple Juice" data-price="4500">
        <img src="Pineapple Juice.jpeg">
        <h4>Pineapple Juice</h4>
        <p>Price - 4500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Grape Juice" data-price="3000">
        <img src="Grape Juice.jpeg">
        <h4>Grape Juice</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>



    </div>

    <div class="cart">
      <h3 class="center">Chart</h3>
      <ul id="cart-list"></ul>
      <button class="submit" onclick="submitOrder()">Submit order</button>
    </div>
  </div>

  <script>
  // Load existing cart from localStorage or start new
  let cart = [];

  // Run this when page is loaded
  window.onload = function () {
    const storedCart = localStorage.getItem('cart');
    if (storedCart) {
      cart = JSON.parse(storedCart);
    }
    renderCart();
  };

  // Add item to cart
  function addToCart(button) {
    const item = button.parentElement;
    const name = item.getAttribute('data-name');
    const price = item.getAttribute('data-price');

    // Add to cart
    cart.push({ name, price });

    // Save to localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // Update the cart UI
    renderCart();
  }

  // Render cart items
  function renderCart() {
    const cartList = document.getElementById("cart-list");
    if (!cartList) return;
    cartList.innerHTML = "";

    cart.forEach((item, index) => {
      const li = document.createElement("li");
      li.textContent = `${item.name} - ${item.price} kyats `;

      // Create remove button
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "x";
      removeBtn.style.marginLeft = "10px";
      removeBtn.style.background = "#4a0f0f";
      removeBtn.style.color = "white";
      removeBtn.style.border = "none";
      removeBtn.style.borderRadius = "5px";
      removeBtn.style.cursor = "pointer";
      removeBtn.onclick = () => removeFromCart(index);

      li.appendChild(removeBtn);
      cartList.appendChild(li);
    });
  }

  // Remove item from cart
  function removeFromCart(index) {
    cart.splice(index, 1); // Remove item by index
    localStorage.setItem('cart', JSON.stringify(cart)); // Save updated cart
    renderCart(); // Refresh display

  }

  // Submit order and clear cart
  function submitOrder() {
    if (cart.length === 0) {
      alert("Your cart is empty!");
      return;
    }

    let orderSummary = "Order Summary:\n";
    cart.forEach(item => {
      orderSummary += `${item.name} - ${item.price} kyats\n`;
    });

    alert(orderSummary);

    // Clear cart
    cart = [];
    localStorage.removeItem('cart');
    renderCart();
  }

</script>

</body>
</html>
