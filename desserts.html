<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dessert - MIT Canteen</title>
  <link rel="stylesheet" href="styles.css" />
  
</head>
<body>
  <div>
    <h2 class="canteen">MIT Student Canteen</h2>
  </div>

  <div class="menu-buttons">
    <button class="shadow-button" onclick="window.location.href='main-course.html'">Main-Course</button>
    <button class="shadow-button" onclick="window.location.href='beverages.html'" >Beverages</button>
    <button class="shadow-button" onclick="window.location.href='snacks.html'"> Snack</button>
    <button class="shadow-button" onclick="window.location.href='desserts.html'">Dessert</button>
    
  </div>

  <div class="menu-container">
    <div class="menu-items">
      <div class="item" data-name="Shwe Yin Aye" data-price="2500">
        <img src="Shwe Yin Aye.jpeg">
        <h4>Shwe Yin Aye</h4>
        <p>Price - 2500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Mont lat saung" data-price="4000">
        <img src="Mont lat saung.jpeg">
        <h4>Mont lat saung</h4>
        <p>Price - 4000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="mango" data-price="2000">
        <img src="mango.jpeg">
        <h4>mango.jpeg</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Strawberrys" data-price="3000">
        <img src="Strawberry.jpeg">
        <h4>Strawberry</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Dragon Fruit" data-price="2000">
        <img src="Dragon Fruit.jpeg">
        <h4>Dragon Fruit</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Orange" data-price="2000">
        <img src="Orange.jpeg">
        <h4>Orange</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Triple Chocolate Cake.jpeg" data-price="4000">
        <img src="Triple Chocolate Cake.jpeg">
        <h4>Triple Chocolate Cake</h4>
        <p>Price - 4000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Strawberry Ice Cream" data-price="3000">
        <img src="Strawberry Ice Cream.jpeg">
        <h4>Strawberry Ice Cream</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Chocolate Sundae" data-price="2000">
        <img src="Chocolate Sundae.jpeg">
        <h4>Chocolate Sundae</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Mini Lemon Cheesecakes" data-price="3000">
        <img src="Mini Lemon Cheesecakes.jpeg">
        <h4>Mini Lemon Cheesecakes</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Cocnut Jelly" data-price="3500">
        <img src="Cocnut Jelly.jpeg">
        <h4>Cocnut Jelly</h4>
        <p>Price - 3500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Cake Ball" data-price="2500">
        <img src="Cake Ball.jpeg">
        <h4>Cake Ball</h4>
        <p>Price - 2500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>



    </div>

    <div class="cart">
      <h3 class="center">Chart</h3>
      <ul id="cart-list"></ul>
      <button class="submit" onclick="submitOrder()">Submit order</button>
    </div>
  </div>

  <script>
  // Load existing cart from localStorage or start new
  let cart = [];

  // Run this when page is loaded
  window.onload = function () {
    const storedCart = localStorage.getItem('cart');
    if (storedCart) {
      cart = JSON.parse(storedCart);
    }
    renderCart();
  };

  // Add item to cart
  function addToCart(button) {
    const item = button.parentElement;
    const name = item.getAttribute('data-name');
    const price = item.getAttribute('data-price');

    // Add to cart
    cart.push({ name, price });

    // Save to localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // Update the cart UI
    renderCart();
  }

  // Render cart items
  function renderCart() {
    const cartList = document.getElementById("cart-list");
    if (!cartList) return;
    cartList.innerHTML = "";

    cart.forEach((item, index) => {
      const li = document.createElement("li");
      li.textContent = `${item.name} - ${item.price} kyats `;

      // Create remove button
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "x";
      removeBtn.style.marginLeft = "10px";
      removeBtn.style.background = "#4a0f0f";
      removeBtn.style.color = "white";
      removeBtn.style.border = "none";
      removeBtn.style.borderRadius = "5px";
      removeBtn.style.cursor = "pointer";
      removeBtn.onclick = () => removeFromCart(index);

      li.appendChild(removeBtn);
      cartList.appendChild(li);
    });
  }

  // Remove item from cart
  function removeFromCart(index) {
    cart.splice(index, 1); // Remove item by index
    localStorage.setItem('cart', JSON.stringify(cart)); // Save updated cart
    renderCart(); // Refresh display

  }

  // Submit order and clear cart
  function submitOrder() {
    if (cart.length === 0) {
      alert("Your cart is empty!");
      return;
    }

    let orderSummary = "Order Summary:\n";
    cart.forEach(item => {
      orderSummary += `${item.name} - ${item.price} kyats\n`;
    });

    alert(orderSummary);

    // Clear cart
    cart = [];
    localStorage.removeItem('cart');
    renderCart();
  }

</script>

</body>
</html>
