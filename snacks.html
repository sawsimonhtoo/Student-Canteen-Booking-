<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Snacks - MIT Canteen</title>
  <link rel="stylesheet" href="styles.css" />
  
</head>
<body>
  <div>
    <h2 class="canteen">MIT Student Canteen</h2>
  </div>

  <div class="menu-buttons">
    <button class="shadow-button" onclick="window.location.href='main-course.html'">Main-Course</button>
    <button class="shadow-button" onclick="window.location.href='beverages.html'" >Beverages</button>
    <button class="shadow-button" onclick="window.location.href='snacks.html'"> Snack</button>
    <button class="shadow-button" onclick="window.location.href='desserts.html'">Dessert</button>
    
  </div>

  <div class="menu-container">
    <div class="menu-items">
      <div class="item" data-name="Fried Vegetables" data-price="9000">
        <img src="Fried Vegetables.jpeg">
        <h4>Fried Vegetables</h4>
        <p>Price - 9000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Tea Leaf Salad" data-price="5000">
        <img src="Tea Leaf Salad.jpeg">
        <h4>Tea Leaf Salad</h4>
        <p>Price - 5000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Mont Lin Mayar" data-price="3000">
        <img src="Mont Lin Mayar.jpeg">
        <h4>Mont Lin Mayar</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Shan Snacks" data-price="2000">
        <img src="Shan Snacks.jpeg">
        <h4>Shan Snacks</h4>
        <p>Price - 6000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Mont Let Kaut" data-price="2000">
        <img src="Mont Let Kaut.jpeg">
        <h4>Mont Let Kaut</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Fried Tofu" data-price="3500">
        <img src="Fried Tofu.jpeg">
        <h4>Fried Tofu</h4>
        <p>Price - 3500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Fried Sa Mu Zar" data-price="2000">
        <img src="Fried Sa Mu Zar.jpeg">
        <h4>Fried Sa Mu Zar</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Mont Si Kyaw" data-price="2000">
        <img src="Mont Si Kyaw.jpeg">
        <h4>Mont Si Kyaw</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Fried Banana" data-price="5000">
        <img src="Fried Banana.jpeg">
        <h4>Fried Banana</h4>
        <p>Price - 5000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Kout Nyin Kyi Tout" data-price="3000">
        <img src="Kout Nyin Kyi Tout.jpeg">
        <h4>Kout Nyin Kyi Tout</h4>
        <p>Price - 3000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Thingyan Snacks" data-price="2500">
        <img src="Thingyan Snacks.jpeg">
        <h4>Thingyan Snacks</h4>
        <p>Price - 2500 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>

      <div class="item" data-name="Halwa" data-price="2000">
        <img src="Halwa.jpeg">
        <h4>Halwa.</h4>
        <p>Price - 2000 kyats</p>
        <button onclick="addToCart(this)"><b>Add</b></button>
      </div>



    </div>

    <div class="cart">
      <h3 class="center">Chart</h3>
      <ul id="cart-list"></ul>
      <button class="submit" onclick="submitOrder()">Submit order</button>
    </div>
  </div>

  <script>
  // Load existing cart from localStorage or start new
  let cart = [];

  // Run this when page is loaded
  window.onload = function () {
    const storedCart = localStorage.getItem('cart');
    if (storedCart) {
      cart = JSON.parse(storedCart);
    }
    renderCart();
  };

  // Add item to cart
  function addToCart(button) {
    const item = button.parentElement;
    const name = item.getAttribute('data-name');
    const price = item.getAttribute('data-price');

    // Add to cart
    cart.push({ name, price });

    // Save to localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // Update the cart UI
    renderCart();
  }

  // Render cart items
  function renderCart() {
    const cartList = document.getElementById("cart-list");
    if (!cartList) return;
    cartList.innerHTML = "";

    cart.forEach((item, index) => {
      const li = document.createElement("li");
      li.textContent = `${item.name} - ${item.price} kyats `;

      // Create remove button
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "x";
      removeBtn.style.marginLeft = "10px";
      removeBtn.style.background = "#4a0f0f";
      removeBtn.style.color = "white";
      removeBtn.style.border = "none";
      removeBtn.style.borderRadius = "5px";
      removeBtn.style.cursor = "pointer";
      removeBtn.onclick = () => removeFromCart(index);

      li.appendChild(removeBtn);
      cartList.appendChild(li);
    });
  }

  // Remove item from cart
  function removeFromCart(index) {
    cart.splice(index, 1); // Remove item by index
    localStorage.setItem('cart', JSON.stringify(cart)); // Save updated cart
    renderCart(); // Refresh display

  }

  // Submit order and clear cart
  function submitOrder() {
    if (cart.length === 0) {
      alert("Your cart is empty!");
      return;
    }

    let orderSummary = "Order Summary:\n";
    cart.forEach(item => {
      orderSummary += `${item.name} - ${item.price} kyats\n`;
    });

    alert(orderSummary);

    // Clear cart
    cart = [];
    localStorage.removeItem('cart');
    renderCart();
  }

</script>

</body>
</html>
